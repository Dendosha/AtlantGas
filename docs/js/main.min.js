!function(){"use strict";class t{static#t=new Map;#e="";#s;#i={placeholder:"Default placeholder",label:"Custom selectlist",selectlistItems:["Option 1","Option 2","Option 3","Option 4"],visibleItemsCount:4};constructor(e,s){this.element=e,this.options=s,this.options.placeholder||(this.options.placeholder=this.#i.placeholder),this.options.label||this.options.labelledby||(this.options.label=this.#i.label),this.options.selectlistItems?.filter(Boolean)?.length||(this.options.selectlistItems=this.#i.selectlistItems),this.options.visibleItemsCount||(this.options.visibleItemsCount=this.#i.visibleItemsCount);const i=this.#l();t.#t.set(e,i),this.options.selectedItemIndex&&this.select(`${this.options.listboxId}-${this.options.selectedItemIndex}`),this.#o()}get isOpened(){return"true"==this.#n.combobox.getAttribute("aria-expanded")}get current(){const t=this.#n.listbox.querySelector('li[aria-selected="true"]');return t?{selectedItem:t,value:t.innerText}:void 0}get#n(){return t.#t.get(this.element)}static get all(){const t=[];for(let e of this.#t.values())t.push(e.classInstance);return t}static find(t){if(this.#t.get(t))return this.#t.get(t).classInstance;for(let e of this.#t.keys())if(e?.id==t)return this.#t.get(e).classInstance}#l(){const t=document.createElement("input");t.type="text",t.ariaHidden=!0,t.tabIndex=-1,t.classList.add("--visually-hidden");const e=document.createElement("div");e.innerText=this.options.placeholder,e.tabIndex=0,e.role="combobox",this.options.label&&e.setAttribute("aria-label",this.options.label),this.options.labelledby&&e.setAttribute("aria-labelledby",this.options.labelledby),e.ariaHasPopup="listbox",e.ariaExpanded=!1,e.classList.add("--selectlist__combobox");const s=document.createElement("div");s.classList.add("--selectlist__listbox-wrapper");const i=document.createElement("ul");i.id=this.options?.listboxId,i.role="listbox",i.classList.add("--selectlist__listbox"),this.options.selectlistItems.forEach(((t,e)=>{const s=document.createElement("li");s.innerText=t,s.id=`${this.options.listboxId}-${e}`,s.role="option",s.setAttribute("aria-selected",!1),s.classList.add("--selectlist__option"),i.append(s)})),Array.from(this.element.attributes).forEach((t=>{t.name.startsWith("data-")&&this.element.removeAttribute(t.name)})),this.element.append(t),this.element.append(e),this.element.append(s),s.append(i);const l=this.options.visibleItemsCount,o=i.firstChild.offsetHeight,n=parseInt(getComputedStyle(i).borderTopWidth)+parseInt(getComputedStyle(i).borderBottomWidth);return i.style.maxHeight=`${o*l+n}px`,i.childElementCount<=l&&(i.style.overflowY="hidden"),{classInstance:this,input:t,combobox:e,listboxWrapper:s,listbox:i}}#o(){this.comboboxKeydownHandler=this.comboboxKeydownHandler.bind(this),this.comboboxKeypressHandler=this.comboboxKeypressHandler.bind(this),this.comboboxClickHandler=this.comboboxClickHandler.bind(this),this.comboboxBlurHandler=this.comboboxBlurHandler.bind(this),this.optionsClickHandler=this.optionsClickHandler.bind(this),this.#n.combobox.addEventListener("keydown",this.comboboxKeydownHandler),this.#n.combobox.addEventListener("keypress",this.comboboxKeypressHandler),this.#n.combobox.addEventListener("click",this.comboboxClickHandler),this.#n.combobox.addEventListener("blur",this.comboboxBlurHandler),this.#n.listboxWrapper.addEventListener("mousedown",this.optionsClickHandler)}comboboxClickHandler(t){"false"==t.currentTarget.getAttribute("aria-expanded")?this.open():this.close()}comboboxBlurHandler(t){this.close()}comboboxKeydownHandler(t){const e=this.current?.selectedItem;switch(t.code){case"Enter":case"Space":this.isOpened?this.close():this.open();break;case"ArrowDown":this.isOpened?e?e?.nextElementSibling&&this.select(e.nextElementSibling.id):this.select(this.#n.listbox.firstChild.id):(this.open(),e||this.select(this.#n.listbox.firstChild.id),this.#n.listbox.scrollTop=0);break;case"ArrowUp":this.isOpened?t.altKey?this.close():e?e?.previousElementSibling&&this.select(e.previousElementSibling.id):this.select(this.#n.listbox.firstChild.id):(this.open(),e||this.select(this.#n.listbox.firstChild.id),this.#n.listbox.scrollTop=0);break;case"Home":this.isOpened||this.open(),this.select(this.#n.listbox.firstChild.id),this.#n.listbox.scrollTop=0;break;case"End":this.isOpened||this.open(),this.select(this.#n.listbox.lastChild.id),this.#n.listbox.scrollTop=this.#n.listbox.scrollHeight;break;case"Escape":this.isOpened&&(t.stopPropagation(),this.close())}}comboboxKeypressHandler(t){this.#s&&clearTimeout(this.#s),this.#s=setTimeout((()=>this.#e=""),400),this.#e+=t.key;for(let t of this.#n.listbox.querySelectorAll('li[role="option"]'))if(t.innerText.toLowerCase().startsWith(this.#e.toLowerCase())){this.select(t.id);break}}optionsClickHandler(t){"LI"===t.target.tagName&&this.select(t.target.id)}open(){this.#n.combobox.setAttribute("aria-expanded",!0),this.#n.combobox.setAttribute("aria-controls",this.#n.listbox.id);const t=this.#n.listbox.querySelector('li[aria-selected="true"]');t&&this.#n.combobox.setAttribute("aria-activedescendant",t.id)}close(){this.#n.combobox.setAttribute("aria-expanded",!1),this.#n.combobox.removeAttribute("aria-controls"),this.#n.combobox.removeAttribute("aria-activedescendant")}select(t){const e=document.getElementById(t);e&&(this.#n.listbox.querySelector('li[aria-selected="true"]')?.setAttribute("aria-selected",!1),e.setAttribute("aria-selected",!0),this.#n.input.value=this.#n.combobox.innerText=e.textContent,e.offsetTop+e.offsetHeight>this.#n.listbox.clientHeight+this.#n.listbox.scrollTop?e.scrollIntoView({block:"end",behavior:"smooth"}):e.offsetTop<this.#n.listbox.scrollTop&&e.scrollIntoView({block:"start",behavior:"smooth"}))}destroy(){this.#n.combobox.removeEventListener("keydown",this.comboboxKeydownHandler),this.#n.combobox.removeEventListener("keydown",this.comboboxKeypressHandler),this.#n.combobox.removeEventListener("click",this.comboboxClickHandler),this.#n.combobox.removeEventListener("blur",this.comboboxBlurHandler),this.#n.listboxWrapper.removeEventListener("mousedown",this.optionsClickHandler),this.element.remove()}}var e=t,s=class{#i={activation:"auto",prevKey:"ArrowLeft",nextKey:"ArrowRight",openTabCallback:null};constructor(t,e){this.element=t,this.options={...this.#i,...e},this.#o()}#o(){this.tabPanelsWrapper=this.element.querySelector('[data-tabs="tabpanels"]'),this.tabPanels=this.element.querySelectorAll('[data-tabs="tabpanels"]>div'),this.tabPresentations=this.element.querySelectorAll('ul[data-tabs="tablist"]>li'),this.tabs=this.element.querySelectorAll('ul[data-tabs="tablist"]>li>a'),this.currentTab=this.tabs[0],this.currentTabpanel=this.tabPanels[0],this.#a(),this.clickHandler=this.clickHandler.bind(this),this.keydownHandler=this.keydownHandler.bind(this),this.element.addEventListener("click",this.clickHandler),this.element.addEventListener("keydown",this.keydownHandler)}#a(){this.tabs.forEach(((t,e)=>{t.setAttribute("role","tab"),this.tabPresentations[e].setAttribute("role","presentation"),this.tabPanels[e].setAttribute("role","tabpanel"),this.tabPanels[e].setAttribute("tabindex","0"),0===e?(t.setAttribute("tabindex","0"),t.setAttribute("aria-selected","true")):(t.setAttribute("tabindex","-1"),t.setAttribute("aria-selected","false"),this.tabPanels[e].setAttribute("hidden",""))}))}clickHandler(t){t.target.closest('[role="tab"]')&&(t.preventDefault(),this.openTab(t.target.closest('[role="tab"]')))}keydownHandler(t){const e=t.target.closest('[role="tab"]');if(!e)return;const s=Array.from(this.tabs).findIndex((t=>t===e));switch(t.key){case this.options.prevKey:t.preventDefault(),this.tabPanels[s].previousElementSibling?this.selectTab(this.tabPresentations[s].previousElementSibling.children[0]):this.selectTab(this.tabPresentations[this.tabPresentations.length-1].children[0]);break;case this.options.nextKey:t.preventDefault(),this.tabPanels[s].nextElementSibling?this.selectTab(this.tabPresentations[s].nextElementSibling.children[0]):this.selectTab(this.tabPresentations[0].children[0]);break;case"Home":t.preventDefault(),this.selectTab(this.tabPresentations[0].children[0]);break;case"End":t.preventDefault(),this.selectTab(this.tabPresentations[this.tabPresentations.length-1].children[0]);break;case"Enter":case" ":"manual"===this.options.activation&&(t.preventDefault(),this.openTab(t.target));break;case"Tab":"manual"===this.options.activation&&"true"!==e.getAttribute("aria-selected")&&(t.preventDefault(),this.currentTab.focus())}}selectTab(t){"auto"===this.options.activation?this.openTab(t):t.focus()}openTab(t){const e=this.tabPanelsWrapper.querySelector(t.getAttribute("href"));this.currentTab.setAttribute("tabindex","-1"),this.currentTab.setAttribute("aria-selected","false"),this.currentTabpanel.setAttribute("hidden",""),t.setAttribute("tabindex","0"),t.setAttribute("aria-selected","true"),e.removeAttribute("hidden"),t.focus(),this.currentTab=t,this.currentTabpanel=e,this.options.openTabCallback&&this.options.openTabCallback()}};class i{static#r=[];#i={state:"closed",closeButtonSelector:"[data-close-button]",openButtonSelector:null,openCallback:null,closeCallback:null};#c=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'];constructor(t,e){this.element=t,this.options={...this.#i,...e},this.modalOpeners=[],i.#r.push(this),this.#o()}static get all(){return this.#r}addModalOpener(t){this.modalOpeners.push(t),t.addEventListener("click",this.open.bind(this))}#o(){this.prepareToClose=!1,this.lastFocusedOpener=null,this.focusableElements=Array.from(this.element.querySelectorAll(this.#c)),this.clickHandler=this.clickHandler.bind(this),this.mouseDownHandler=this.mouseDownHandler.bind(this),this.mouseUpHandler=this.mouseUpHandler.bind(this),this.keydownHandler=this.keydownHandler.bind(this),this.element.addEventListener("click",this.clickHandler),this.element.addEventListener("mousedown",this.mouseDownHandler),this.element.addEventListener("mouseup",this.mouseUpHandler),this.element.addEventListener("keydown",this.keydownHandler),"opened"==this.element.dataset?.state&&this.open(),document.querySelectorAll(this.options.openButtonSelector)?.forEach(this.addModalOpener.bind(this))}clickHandler(t){t.target.closest(this.options.closeButtonSelector)&&this.close()}mouseDownHandler(t){t.target.closest('[role="dialog"]')||(this.prepareToClose=!0)}mouseUpHandler(t){this.prepareToClose&&!t.target.closest('[role="dialog"]')&&this.close(),this.prepareToClose=!1}keydownHandler(t){if("Escape"==t.code&&this.close(),"Tab"===t.code){const e=this.focusableElements.indexOf(document.activeElement);t.shiftKey&&0===e&&(this.focusableElements[this.focusableElements.length-1].focus(),t.preventDefault()),t.shiftKey||e!==this.focusableElements.length-1||(this.focusableElements[0].focus(),t.preventDefault())}}open(){document.body.classList.add("--modal-opened"),this.lastFocusedOpener=document.activeElement,this.element.dataset.state=this.options.state="opened",this.element.setAttribute("aria-hidden",!1),this.element.querySelectorAll(this.#c)[0].focus(),this.options.openCallback&&this.options.openCallback[0](...this.options.openCallback.slice(1))}close(){document.body.classList.remove("--modal-opened"),this.element.dataset.state=this.options.state="closed",this.element.setAttribute("aria-hidden",!0),this.lastFocusedOpener?.focus(),this.options.closeCallback&&this.options.closeCallback[0](...this.options.closeCallback.slice(1))}}var l=i;document.querySelectorAll('[data-custom-element="selectlist"]').forEach((t=>{const s={placeholder:t.dataset?.placeholder,label:t.dataset?.label,labelledby:t.dataset?.labelledby,listboxId:t.dataset.listboxId,selectlistItems:t.dataset?.selectlistItems?.split(/;\s*/g),selectedItemIndex:t.dataset?.selectedItemIndex,visibleItemsCount:4};new e(t,s)})),document.querySelectorAll('[data-tabs="tabs"]').forEach((t=>{new s(t,{openTabCallback:function(){if(t!==document.querySelector(".gas-volume-selection"))return;const s=e.find(document.getElementById("order-form-selectlist")),i=document.querySelectorAll('.gas-volumes a[role="tab"]');for(let t=0;t<i.length;t++)if("true"===i[t].getAttribute("aria-selected")){s.select(`order-form-selectlist-${t}`);break}}})})),document.querySelectorAll('[data-custom-element="dialog"]').forEach((t=>{const e={state:t.dataset.state??"closed",closeButtonSelector:"[data-close-button]",openButtonSelector:`[data-modal-open = ${t.id}]`};new l(t,e)}));const o=Array.from(document.querySelectorAll("button, a"));function n(t){const e=t.target.closest("button, a");"pointerout"===t.type&&e&&e.classList.remove("--active"),o.includes(e)&&("pointerdown"===t.type?e.classList.add("--active"):"pointerup"===t.type&&e.classList.remove("--active"))}document.documentElement.addEventListener("pointerdown",n),document.documentElement.addEventListener("pointerup",n),document.documentElement.addEventListener("pointerout",n)}();